mode: block
modes:
  monitor:
    description: Log only, no blocking
    block_operations: false
    show_warnings: false
    send_notifications: false
    collect_metrics: true
  warn:
    description: Show warnings but allow operations
    block_operations: false
    show_warnings: true
    send_notifications: true
    collect_metrics: true
  block:
    description: Require approval for risky actions
    block_operations: true
    require_approval: true
    collect_metrics: true
  enforce:
    description: Strict blocking, maximum security
    block_operations: true
    require_approval: true
    collect_metrics: true
api:
  url: https://saferun-api.up.railway.app
  timeout: 5000
  retry_count: 3
  fail_mode: strict
  error_handling:
    403_forbidden:
      action: block
      message: |-
        ðŸš« API limit exceeded - operations blocked for safety.

        Options:
          â€¢ Upgrade your plan at https://saferun.dev
          â€¢ Wait for limit reset (resets monthly)
          â€¢ Uninstall completely: npx saferun uninstall
    500_server_error:
      action: block
      message: ðŸš« API temporarily unavailable - operation blocked for safety
    network_error:
      action: block
      message: ðŸš« Network error - operation blocked for safety (API unreachable)
    timeout:
      action: block
      message: ðŸš« API timeout - operation blocked for safety
github:
  repo: auto
  protected_branches:
    - main
  branch_rules:
    - pattern: feature/*
      risk_level: low
      allow_force_push: true
    - pattern: hotfix/*
      risk_level: medium
      require_approval: false
    - pattern: experiment/*
      risk_level: low
      skip_checks: true
approval_timeout:
  action: reject
  duration: 7200
  reminders: 3
  reminder_interval: 1800
rules:
  force_push:
    action: require_approval
    risk_score: 8
    timeout_action: reject
    timeout_duration: 7200
  branch_delete:
    action: require_approval
    risk_score: 6
    timeout_action: reject
    timeout_duration: 7200
    exclude_patterns:
      - tmp/*
      - test/*
  reset_hard:
    action: require_approval
    risk_score: 8
    timeout_action: reject
    timeout_duration: 7200
    max_commits_back: 5
  clean:
    action: require_approval
    risk_score: 6
    timeout_action: reject
    timeout_duration: 3600
notifications:
  slack:
    enabled: true
    channel: '#dev-safety'
telemetry:
  enabled: true
  anonymous: true
  events:
    - operation_blocked
    - operation_allowed
    - approval_requested
    - approval_granted
    - installation
    - uninstallation
  local_logs:
    enabled: true
    path: .saferun/logs
    rotation: daily
    retention: 30
sync:
  last_sync_at: '2026-01-16T12:00:22.984Z'
  sync_source: api
